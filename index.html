<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Rural field</title>
  </head>
  <body>
    <h1>Stock de alimentos</h1>
    <form action="/calcular" method="get">
      <label for="cabezas">Ingrese la cantidad de animales</label>
      <input type="number" id="cabezas" name="cabezas" required /> <br /><br />

      <label for="kgEntrada">Ingresa los kg de entrada</label>
      <input type="number" id="kgEntrada" name="kgEntrada" required />
      <br /><br />

      <label for="kgSalida"
        >Ingresa con cuantos kg desea que salga el animal</label
      >
      <input type="number" id="kgSalida" name="kgSalida" required />
      <br /><br />

      <button type="button" id="calcularDias">Calcular d√≠as de encierre</button>
      <button type="button" id="calcularConsumo">
        Calcular consumo diario
      </button>
    </form>

    <p id="resultado"></p>

    <script>
      document
        .getElementById("calcularDias")
        .addEventListener("click", function () {
          const kgEntrada = parseFloat(
            document.getElementById("kgEntrada").value
          );
          const kgSalida = parseFloat(
            document.getElementById("kgSalida").value
          );

          fetch(`/calcularDias?kgEntrada=${kgEntrada}&kgSalida=${kgSalida}`)
            .then((response) => response.text())
            .then((result) => {
              document.getElementById("resultado").textContent = result;
            });
        });

      document
        .getElementById("calcularConsumo")
        .addEventListener("click", function () {
          const kgEntrada = parseFloat(
            document.getElementById("kgEntrada").value
          );
          const kgSalida = parseFloat(
            document.getElementById("kgSalida").value
          );

          fetch(`/calcularConsumo?kgEntrada=${kgEntrada}&kgSalida=${kgSalida}`)
            .then((response) => response.text())
            .then((result) => {
              document.getElementById("resultado").textContent = result;
            });
        });
    </script>
  </body>
</html>
